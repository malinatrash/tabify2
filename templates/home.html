{% extends "base.html" %}

{% block content %}
<div class="container mt-5">
	<div class="dashboard-header">
		<div class="vision-glass-card hero-section fade-in">
			<div class="hero-content">
				<h1>Welcome back, {{ user.full_name }}! üëã</h1>
				<div class="hero-subtitle">Your musical journey continues here.</div>
				<div class="hero-actions">
					<a href="/projects/new" class="vision-btn vision-btn-primary">Create New Tab</a>
					<a href="/projects" class="vision-btn vision-btn-secondary">View Your Tabs</a>
				</div>
			</div>
		</div>
		<div class="vision-glass-card quick-stats fade-in">
			<h3>Your Stats</h3>
			<div class="stats-grid">
				<div class="stat-item">
					<span class="stat-value">{{ projects|length }}</span>
					<span class="stat-label">Tabs Created</span>
				</div>
				<div class="stat-item">
					<span class="stat-value">{{ user.followers|length }}</span>
					<span class="stat-label">Followers</span>
				</div>
			</div>
		</div>
	</div>
	<div class="vision-glass-card mt-5">
		<h3>Popular Public Tabs</h3>
		{% if popular_projects %}
		<div class="user-projects-scroll">
			{% for project in popular_projects %}
			<div class="project-card">
				<h4>{{ project.title }}</h4>
				<p>{{ project.description }}</p>
				<div class="project-meta">
					<span class="likes-count">‚ù§Ô∏è {{ project.likes|length }}</span>
					<span class="author">by {{ project.owner.full_name }}</span>
				</div>
				<a href="/projects/{{ project.id }}" class="vision-btn vision-btn-primary">View Tab</a>
			</div>
			{% endfor %}
		</div>
		{% else %}
		<p>No popular tabs available yet.</p>
		{% endif %}
	</div>

	<div class="vision-glass-card mt-5">
		<h3>Your Projects</h3>
		{% if projects %}
		<div class="user-projects-scroll">
			{% for project in projects %}
			<div class="project-card">
				<h4>{{ project.title }}</h4>
				<p>{{ project.description }}</p>
				<div class="project-meta">
					<span class="likes-count"><i class="fas fa-heart"></i> {{ project.likes|length }}</span>
					<span class="author">by {{ project.owner.full_name }}</span>
				</div>
				<a href="/projects/{{ project.id }}" class="vision-btn vision-btn-primary">View Tab</a>
			</div>
			{% endfor %}
		</div>
		{% else %}
		<p>You haven't created any tabs yet.</p>
		{% endif %}
	</div>
</div>
{% endblock %}